# language: zh-TW
功能: 組合演算法路線匹配
  作為 攀岩愛好者
  我想要 在不同角度拍攝的照片中識別同一條路線
  以便 即使拍攝角度不同也能準確找到已儲存的路線

  背景:
    假設 系統已載入測試資料集 "docs/research/route-dataset-2025-11-29 (1)/routes.json"
    並且 資料集包含 9 條路線、17 張照片

  場景: 同路線不同角度照片的匹配相似度達標
    當 計算所有同路線不同角度照片之間的相似度
    那麼 同路線相似度最低值應該大於 50%
    並且 同路線相似度平均值應該大於 75%

  場景: 跨路線匹配具有足夠區分能力
    當 計算所有跨路線照片之間的相似度
    那麼 跨路線相似度平均值應該小於 50%
    並且 同路線平均相似度與跨路線平均相似度的差距應該大於 30%

  場景: 紅色 v4 路線匹配改善驗證
    假設 紅色 v4 路線是原始演算法表現最差的案例（原始相似度 29%）
    當 使用組合演算法計算紅色 v4 兩張照片的相似度
    那麼 相似度應該大於 50%

  場景: 正確路線排名優先
    假設 使用者標記了某條路線的岩點
    當 在資料庫中搜尋匹配的路線
    那麼 正確的路線應該出現在搜尋結果的第一位
    並且 正確路線的相似度應該明顯高於其他路線

  場景大綱: 各路線相似度改善
    當 使用組合演算法計算 "<路線>" 的同路線相似度
    那麼 相似度應該大於或等於 "<最低相似度>"

    例子:
      | 路線 | 最低相似度 |
      | 綠色 v1 | 90% |
      | 橘色 vb | 85% |
      | 藍色 v1 | 80% |
      | 水藍色 v1 | 75% |
      | 紫色 v1 | 75% |
      | 黑色 v2 | 70% |
      | 綠色 v0 | 65% |
      | 紅色 v4 | 50% |
